{
    "build-runtime": true,
    "id": "org.gnome.Sdk",
    "id-platform": "org.gnome.Platform",
    "branch": "@@SDK_BRANCH@@",
    "runtime": "org.freedesktop.Platform",
    "sdk": "org.freedesktop.Sdk",
    "runtime-version": "@@SDK_RUNTIME_VERSION@@",
    "sdk-extensions": ["org.freedesktop.Sdk.Debug", "org.freedesktop.Sdk.Locale", "org.freedesktop.Sdk.Docs"],
    "platform-extensions": [ "org.freedesktop.Platform.Locale"],
    "inherit-extensions": [
        "org.freedesktop.Platform.GL",
        "org.freedesktop.Platform.Timezones",
        "org.freedesktop.Platform.GStreamer",
        "org.freedesktop.Platform.Icontheme",
        "org.freedesktop.Platform.VAAPI.Intel",
        "org.freedesktop.Platform.ffmpeg",
        "org.freedesktop.Sdk.Extension",
        "org.gtk.Gtk3theme"
    ],
    "add-extensions": {
        "org.gnome.Sdk.Docs" : {
            "directory": "share/runtime/docs",
            "bundle": true,
            "autodelete": true,
            "no-autodownload": true
        }
    },
    "finish-args": [
        "--env=GI_TYPELIB_PATH=/app/lib/girepository-1.0",
        "--env=GST_PLUGIN_SYSTEM_PATH=/app/lib/gstreamer-1.0:/usr/lib/extensions/gstreamer-1.0:/usr/lib/gstreamer-1.0",
        "--env=XDG_DATA_DIRS=/app/share:/usr/share:/usr/share/runtime/share:/run/host/share",
        "--sdk=org.gnome.Sdk//@@SDK_BRANCH@@",
        "--runtime=org.gnome.Platform//@@SDK_BRANCH@@"
    ],
    "cleanup": [ "/man",
                 "/share/man",
                 "/share/gtk-doc/html",
                 "/lib/systemd",
                 "*.la", "*.a"],
    "cleanup-commands": [ "update-desktop-database",
                          "/usr/libexec/freedesktop-post.sh"
                        ],
    "cleanup-platform": [ "/share/runtime/docs",
                          "/include",
                          "/share/aclocal",
                          "/share/pkgconfig",
                          "/lib/pkgconfig",
                          "/share/gir-1.0",
                          "/share/vala"
                        ],
    "cleanup-platform-commands": [  "/usr/libexec/freedesktop-post.sh" ],
    "build-options" : {
        "cflags": "-O2 -g -fstack-protector-strong -D_FORTIFY_SOURCE=2",
        "cxxflags": "-O2 -g -fstack-protector-strong -D_FORTIFY_SOURCE=2",
        "ldflags": "-fstack-protector-strong -Wl,-z,relro,-z,now",
        "env": {
            "V": "1"
        }
    },
    "modules": [
        {
            "name": "gnome-common",
            "cleanup-platform": [ "*" ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/gnome-common/3.18/gnome-common-3.18.0.tar.xz",
                    "sha256": "22569e370ae755e04527b76328befc4c73b62bfd4a572499fde116b8318af8cf"
                }
            ]
        },
        {
            "name": "yelp-xsl",
            "config-opts": ["--disable-doc"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/yelp-xsl/3.28/yelp-xsl-3.28.0.tar.xz",
                    "sha256": "8ccdf47b31acbdd26a7380b3bc6700742a7aff91a54dab279fd5ea8b43b53f93"
                }
            ]
        },
        {
            "name": "yelp-tools",
            "cleanup-platform": [ "*" ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/yelp-tools/3.28/yelp-tools-3.28.0.tar.xz",
                    "sha256": "82dbfeea2359dfef8ee92c7580c7f03768d12f9bf67d839f03a5e9b0686dc1ac"
                }
            ]
        },
        {
            "name": "cantarell-fonts",
            "buildsystem": "meson",
            "config-opts": [ "-Duseprebuilt=true"],
            "post-install": [
                "ln -s /usr/share/fontconfig/conf.avail/31-cantarell.conf /etc/fonts/conf.d/31-cantarell.conf"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/cantarell-fonts/0.100/cantarell-fonts-0.100.tar.xz",
                    "sha256": "01ad69e855b81af7d6752d374301b8a55576f375a7a46eb58935d7f343cf0689"
                }
            ]
        },
        {
            "name": "glib2",
            "config-opts": ["--with-pcre=system", "--with-python=python3"  ],
            "ensure-writable": [ "/share/glib-2.0/codegen/*.pyc" ],
            "cleanup-platform": [ "/share/glib-2.0/codegen",
                                  "/bin/gdbus-codegen",
                                  "/bin/glib-*",
                                  "/bin/gobject-query",
                                  "/bin/gresource",
                                  "/bin/gtester*"
                               ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/glib/2.56/glib-2.56.0.tar.xz",
                    "sha256": "ecef6e17e97b8d9150d0e8a4b3edee1ac37331213b8a2a87a083deea408a0fc7"
                 }
            ]
        },
        {
            "name": "gobject-introspection",
            "config-opts": ["--disable-static" ],
            "ensure-writable": [ "/lib/gobject-introspection/giscanner/*.pyc",
                                 "/lib/gobject-introspection/giscanner/*/*.pyc" ],
            "cleanup-platform": ["/lib/gobject-introspection/giscanner",
                                 "/share/gobject-introspection/giscanner",
                                 "/bin"],
            "sources": [
                 {
                     "type": "archive",
                     "url": "https://download.gnome.org/sources/gobject-introspection/1.56/gobject-introspection-1.56.0.tar.xz",
                     "sha256": "0d7059fad7aa5ec50d9678aea4ea139acab23737e9cf9ca0d86c615cecbaa0f8"
                 }
            ]
        },
        {
            "name": "vala",
            "cleanup-platform": [ "*" ],
            "config-opts": [ "--enable-vapigen", "--enable-unversioned" ],
            "rm-configure": true,
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/vala/0.40/vala-0.40.0.tar.xz",
                    "sha256": "15888fcb5831917cd67367996407b28fdfc6cd719a30e6a8de38a952a8a48e71"
                },
                {
                    "type": "patch",
                    "path": "vala-no-valadoc.patch"
                },
                {
                    "type": "script",
                    "commands": [ "autoreconf -v" ],
                    "dest-filename": "autogen.sh"
                }
            ]
        },
        {
            "name": "dconf",
            "config-opts": ["--disable-static", "--disable-man"],
            "cleanup": [ "/libexec/dconf-service", "/share/dbus-1/services/*" ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/dconf/0.26/dconf-0.26.1.tar.xz",
                    "sha256": "d583b1f7fc93b879e2956acc6a26ea05a445a0002158aeef80c8e378e1414535"
                },
                {
                    "type": "patch",
                    "path": "dconf-override.patch"
                }
            ]
        },
        {
            "name": "gsettings-desktop-schemas",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/gsettings-desktop-schemas/3.28/gsettings-desktop-schemas-3.28.0.tar.xz",
                    "sha256": "4cb4cd7790b77e5542ec75275237613ad22f3a1f2f41903a298cf6cc996a9167"
                }
            ]
        },
        {
            "name": "glib-networking",
            "buildsystem": "meson",
            "ensure-writable": [
                "/share/locale/*/LC_MESSAGES/*.mo",
                "/share/runtime/locale/*/share/*/LC_MESSAGES/*.mo"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/glib-networking/2.56/glib-networking-2.56.0.tar.xz",
                    "sha256": "47fd10bcae2e5039dc5f685e3ea384f48e64a6bee26d755718f534a978477c93"
                }
            ]
        },
        {
            "name": "libsoup",
            "config-opts": ["--disable-static"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/libsoup/2.62/libsoup-2.62.0.tar.xz",
                    "sha256": "ab7c7ae8d19d0a27ab3b6ae21599cec8c7f7b773b3f2b1090c5daf178373aaac"
                }
            ]
        },
        {
            "name": "dbus-glib",
            "config-opts": [ "--disable-static" ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://dbus.freedesktop.org/releases/dbus-glib/dbus-glib-0.110.tar.gz",
                    "sha256": "7ce4760cf66c69148f6bd6c92feaabb8812dee30846b24cd0f7395c436d7e825"
                }
            ]
        },
        {
            "name": "json-glib",
            "buildsystem": "meson",
            "ensure-writable": [
                "/share/locale/*/LC_MESSAGES/json-glib-1.0.mo",
                "/share/runtime/locale/*/share/*/LC_MESSAGES/json-glib-*.mo"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/json-glib/1.4/json-glib-1.4.2.tar.xz",
                    "sha256": "2d7709a44749c7318599a6829322e081915bdc73f5be5045882ed120bb686dc8"
                }
            ]
        },
        {
            "name": "atk",
            "buildsystem": "meson",
            "ensure-writable": [
                "/share/locale/*/LC_MESSAGES/*.mo",
                "/share/runtime/locale/*/share/*/LC_MESSAGES/*.mo"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/atk/2.28/atk-2.28.1.tar.xz",
                    "sha256": "cd3a1ea6ecc268a2497f0cd018e970860de24a6d42086919d6bf6c8e8d53f4fc"
                }
            ]
        },
        {
            "name": "at-spi2-core",
            "buildsystem": "meson",
            "ensure-writable": [
                "/share/locale/*/LC_MESSAGES/*.mo",
                "/share/runtime/locale/*/share/*/LC_MESSAGES/*.mo"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/at-spi2-core/2.28/at-spi2-core-2.28.0.tar.xz",
                    "sha256": "42a2487ab11ce43c288e73b2668ef8b1ab40a0e2b4f94e80fca04ad27b6f1c87"
                }
            ]
        },
        {
            "name": "at-spi2-atk",
            "buildsystem": "meson",
            "ensure-writable": [
                "/share/locale/*/LC_MESSAGES/*.mo",
                "/share/runtime/locale/*/share/*/LC_MESSAGES/*.mo"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/at-spi2-atk/2.26/at-spi2-atk-2.26.2.tar.xz",
                    "sha256": "61891f0abae1689f6617a963105a3f1dcdab5970c4a36ded9c79a7a544b16a6e"
                }
            ]
        },
        {
            "name": "gtk2",
            "config-opts": ["--disable-man",
                            "--with-xinput=xfree"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/gtk+/2.24/gtk+-2.24.32.tar.xz",
                    "sha256": "b6c8a93ddda5eabe3bfee1eb39636c9a03d2a56c7b62828b359bf197943c582e"
                },
                {
                    "type": "patch",
                    "path": "gtk2-use-adwaita-theme.patch"
                }
            ]
        },
        {
            "name": "gtk2-engines",
            "cleanup": [ "/share/doc/gtk2-engines",  "/usr/share/gtk-engines",
                         "/usr/share/themes", "libclearlooks.so", "libcrux-engine.so", "libglide.so",
                         "libindustrial.so", "libmist.so", "libredmond95.so", "libthinice.so"
                       ],
            "config-opts": [],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/gtk-engines/2.20/gtk-engines-2.20.2.tar.bz2",
                    "sha256": "15b680abca6c773ecb85253521fa100dd3b8549befeecc7595b10209d62d66b5"
                },
                {
                    "type": "shell",
                    "commands": [
                        "cp /usr/share/gnu-config/config.sub .",
                        "cp /usr/share/gnu-config/config.guess ."
                    ]
                }
            ]
        },
        {
            "name": "adwaita-icon-theme",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/adwaita-icon-theme/3.28/adwaita-icon-theme-3.28.0.tar.xz",
                    "sha256": "7aae8c1dffd6772fd1a21a3d365a0ea28b7c3988bdbbeafbf8742cda68242150"
                }
            ]
        },
        {
            "name": "gstreamer",
            "config-opts": ["--enable-debug", "--disable-examples" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "https://gstreamer.freedesktop.org/src/gstreamer/gstreamer-1.12.4.tar.xz",
                     "sha256": "5a8704aa4c2eeb04da192c4a9942f94f860ac1a585de90d9f914bac26a970674"
                 }
            ],
            "build-commands": [
                /* We delete all the 1.10 plugins to avoid version mismatches with renamed or removed plugins */
                "rm -rf /usr/lib/gstreamer-1.0"
            ]
        },
        {
            "name": "opus",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/xiph/opus/releases/download/v1.1.2/opus-1.1.2.tar.gz",
                    "sha256": "0e290078e31211baa7b5886bcc8ab6bc048b9fc83882532da4a1a45e58e907fd"
                }
            ]
        },
        {
            "name": "gstreamer-plugins-base",
            "config-opts": ["--enable-experimental", "--enable-orc" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "https://gstreamer.freedesktop.org/src/gst-plugins-base/gst-plugins-base-1.12.4.tar.xz",
                     "sha256": "4c306b03df0212f1b8903784e29bb3493319ba19ebebf13b0c56a17870292282"
                 }
            ]
        },
        {
            "name": "cogl",
            "config-opts": [  "--enable-cairo=yes",
                              "--enable-cogl-pango=yes",
                              "--enable-gdk-pixbuf=yes",
                              "--enable-glx=yes",
                              "--enable-introspection=yes",
                              "--enable-kms-egl-platform",
                              "--enable-wayland-egl-platform",
                              "--enable-wayland-egl-server",
                              "--enable-xlib-egl-platform",
                              "--enable-cogl-gst" ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/cogl/1.22/cogl-1.22.2.tar.xz",
                    "sha256": "39a718cdb64ea45225a7e94f88dddec1869ab37a21b339ad058a9d898782c00d"
                }
            ]
        },
        {
            "name": "clutter",
            "config-opts": ["--enable-gdk-backend",
                            "--enable-xinput",
                            "--enable-evdev-input" ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/clutter/1.26/clutter-1.26.2.tar.xz",
                    "sha256": "e7233314983055e9018f94f56882e29e7fc34d8d35de030789fdcd9b2d0e2e56"
                }
            ]
        },
        {
            "name": "clutter-gst",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/clutter-gst/3.0/clutter-gst-3.0.24.tar.xz",
                    "sha256": "e9f1c87d8f4c47062e952fb8008704f8942cf2d6f290688f3f7d13e83578cc6c"
                }
            ]
        },
        {
            "name": "clutter-gtk",
            "buildsystem": "meson",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/clutter-gtk/1.8/clutter-gtk-1.8.4.tar.xz",
                    "sha256": "521493ec038973c77edcb8bc5eac23eed41645117894aaee7300b2487cb42b06"
                }
            ]
        },
        {
            "name": "gstreamer-plugins-good",
            "config-opts": ["--enable-experimental",
                            "--enable-orc" ,
                            "--disable-monoscope",
                            "--disable-aalib",
                            "--enable-cairo",
                            "--disable-libcaca",
                            "--disable-jack",
                            "--with-default-visualizer=autoaudiosink" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://gstreamer.freedesktop.org/src/gst-plugins-good/gst-plugins-good-1.12.4.tar.xz",
                     "sha256": "649f49bec60892d47ee6731b92266974c723554da1c6649f21296097715eb957"
                 }
            ]
        },
        {
            "name": "gstreamer-plugins-bad",
            "config-opts": ["--enable-experimental", "--enable-orc" ],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://gstreamer.freedesktop.org/src/gst-plugins-bad/gst-plugins-bad-1.12.4.tar.xz",
                     "sha256": "0c7857be16686d5c1ba6e34bd338664d3d4599d32714a8eca5c8a41a101e2d08"
                 }
            ]
        },
        {
            "name": "gstreamer-plugins-ugly",
            "config-opts": ["--disable-asfdemux", "--disable-dvdlpcmdec", "--disable-dvdsub",
                            "--disable-xingmux", "--disable-realmedia"],
            "sources": [
                 {
                     "type": "archive",
                     "url": "http://gstreamer.freedesktop.org/src/gst-plugins-ugly/gst-plugins-ugly-1.12.4.tar.xz",
                     "sha256": "1c165b8d888ed350acd8e6ac9f6fe06508e6fcc0a3afc6ccc9fbeb30df9be522"
                 }
            ]
        },
        {
            "name": "gstreamer-libav",
            "build-options" : {
                "arch" : {
                    "i386" : {
                        "config-opts" : [
                            "--build=i586-unknown-linux-gnu"
                        ]
                    },
                    "arm" : {
                        "config-opts" : [
                            "--build=arm-unknown-linux-gnueabi"
                        ]
                    }
                }
            },
            "config-opts": ["--with-system-libav" ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://gstreamer.freedesktop.org/src/gst-libav/gst-libav-1.12.4.tar.xz",
                     "sha256": "2a56aa5d2d8cd912f2bce17f174713d2c417ca298f1f9c28ee66d4aa1e1d9e62"
                }
            ]
        },
        {
            "name": "libcanberra",
            "sources": [
                {
                    "type": "archive",
                    "url": "http://0pointer.de/lennart/projects/libcanberra/libcanberra-0.30.tar.xz",
                    "sha256": "c2b671e67e0c288a69fc33dc1b6f1b534d07882c2aceed37004bf48c601afa72"
                },
                {
                    "type": "patch",
                    "path": "libcanberra-gtk-Don-t-assume-all-GdkDisplays-are-GdkX11Displays-.patch"
                }
            ]
        },
        {
            "name": "libsecret",
            "config-opts": ["--disable-static", "--disable-manpages"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/libsecret/0.18/libsecret-0.18.5.tar.xz",
                    "sha256": "9ce7bd8dd5831f2786c935d82638ac428fa085057cc6780aba0e39375887ccb3"
                },
                {
                    "type": "shell",
                    "commands": ["autoreconf -f"]
                }
            ]
        },
        {
            "name": "libnotify",
            "config-opts": ["--disable-static"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/libnotify/0.7/libnotify-0.7.7.tar.xz",
                    "sha256": "9cb4ce315b2655860c524d46b56010874214ec27e854086c1a1d0260137efc04"
                }
            ]
        },
        {
            "name": "gvfs",
            "cleanup": [ "/libexec/*", "/share/dbus-1/services/*", "/share/gvfs/mounts" ],
            "config-opts": [ "--disable-hal", "--disable-gdu", "--disable-gcr", "--disable-obexftp",
                             "--disable-avahi", "--disable-documentation", "--disable-admin" ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/gvfs/1.36/gvfs-1.36.0.tar.xz",
                    "sha256": "9ec388afeb373a213f2cc489184f76a17ae273a000e8a4ec720c1995943256bb"
                }
            ]
        },
        {
            "name": "enchant",
            "config-opts": ["--disable-static", "--with-myspell-dir=/usr/share/hunspell"],
            "sources": [
                {
                    "type": "archive",
                    "url": "http://www.abisource.com/downloads/enchant/1.6.0/enchant-1.6.0.tar.gz",
                    "sha256": "2fac9e7be7e9424b2c5570d8affe568db39f7572c10ed48d4e13cddf03f7097f"
                },
                {
                    "type": "shell",
                    "commands": [
                        "cp -f /usr/share/gnu-config/config.sub .",
                        "cp -f /usr/share/gnu-config/config.guess ."
                    ]
                }
            ]
        },
        {
            "name": "gcab",
            "buildsystem": "meson",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/gcab/1.1/gcab-1.1.tar.xz",
                    "sha256": "192b2272c2adfde43595e5c62388854bca8a404bc796585b638e81774dd62950"
                }
            ]
        },
        {
            "name": "gnome-themes-extra",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/gnome-themes-extra/3.27/gnome-themes-extra-3.27.92.tar.xz",
                    "sha256": "95711f95da892a0d5531a4a233546e14b123721ecd90e02a837f27e1d2d35c12"
                }
            ]
        },
        {
            "name": "mozjs52",
            "build-options": {
                "arch" : {
                    "arm" : {
                        /* Workaround for bug seebugzilla.gnome.org, bug 790097 */
                        "cflags": "-fno-schedule-insns",
                        "cxxflags": "-fno-schedule-insns"
                    }
                }
            },
            "config-opts": [  "--enable-posix-nspr-emulation",
                              "--with-system-zlib",
                              "--without-system-icu",
                              "--with-intl-api",
                              "AUTOCONF=autoconf"],
            "subdir": "js/src",
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/ptomato/mozjs.git",
                    "commit": "c97af31db2b9bcfa405c552a304d368f2b679fc7"
                }
            ],
            "post-install": [
                "cp -p js/src/js-config.h /usr/include/mozjs-52",
                "rm /usr/lib/libjs_static.ajs"
            ]
        },
        {
            "name": "gjs",
            "config-opts": [  "--disable-Werror"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/gjs/1.52/gjs-1.52.0.tar.xz",
                    "sha256": "5524a045e5e1d34a2a510133c662f2685e15ce26ae2ed699fb5d131b6b04a4ca"
                }
            ]
        },
        {
            "name": "vte",
            "build-options" : {
                "cflags": "-fPIE -DPIE",
                "cxxflags": "-fPIE -DPIE",
                "ldflags": "-pie -lssp"
            },
            "config-opts": ["--disable-gnome-pty-helper",
                            "--disable-static",
                            "--with-gtk=3.0",
                            "--enable-introspection"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/vte/0.52/vte-0.52.0.tar.xz",
                    "sha256": "d5ae72dddd57af493afa10ca2a290f284e588021b0bd8aaaa63dbb75de7c0567"
                }
            ]
        },
        {
            "name": "brotli",
            "buildsystem": "cmake",
            "config-opts": [
                "-DCMAKE_INSTALL_PREFIX:PATH=/usr",
                "-DCMAKE_INSTALL_LIBDIR:PATH=/usr/lib"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/google/brotli/archive/v1.0.1.tar.gz",
                    "sha256": "6870f9c2c63ef58d7da36e5212a3e1358427572f6ac5a8b5a73a815cf3e0c4a6"
                }
            ]
        },
        {   "name": "woff2",
            "buildsystem": "cmake",
            "config-opts": [
                "-DCMAKE_INSTALL_PREFIX:PATH=/usr",
                "-DCMAKE_INSTALL_LIBDIR:PATH=/usr/lib"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/google/woff2/archive/v1.0.2/woff2-1.0.2.tar.gz",
                    "sha256": "add272bb09e6384a4833ffca4896350fdb16e0ca22df68c0384773c67a175594"
                }
            ]
        },
        {
            "name": "WebKitGTK+",
            "cleanup-platform": [ "/libexec/webkit2gtk-4.0/MiniBrowser" ],
            "buildsystem": "cmake",
            "build-options" : {
                "cflags": "-g1",
                "cxxflags": "-g1",
                "arch" : {
                    "i386" : {
                        "config-opts" : [
                            "-DCMAKE_SYSTEM_PROCESSOR=i586"
                        ]
                    },
                    "arm" : {
                        "config-opts" : [
                            "-DCMAKE_SYSTEM_PROCESSOR=arm",
                            "-DENABLE_JIT=OFF"
                        ]
                    }
                }
            },
            "config-opts": [
                "-DPORT=GTK",
                "-DCMAKE_BUILD_TYPE=Release",
                "-DCMAKE_INSTALL_PREFIX:PATH=/usr",
                "-DLIB_INSTALL_DIR:PATH=/usr/lib",
                "-DSYSCONF_INSTALL_DIR:PATH=/usr/etc",
                "-DSHARE_INSTALL_PREFIX:PATH=/usr/share",
                "-DINCLUDE_INSTALL_DIR:PATH=/usr/include",
                "-DCMAKE_VERBOSE_MAKEFILE:BOOL=ON",
                "-DENABLE_MINIBROWSER=ON"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://webkitgtk.org/releases/webkitgtk-2.20.0.tar.xz",
                    "sha256": "57f640f720bd9a8a7207f3321cf803a15c2f207b4e7b75ff1be17bc1eeb00a3c"
                }
            ]
        },
        {
            "name": "yelp",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/yelp/3.27/yelp-3.27.1.tar.xz",
                    "sha256": "fdc845aa62369ed51f05e9b9c6bf2909dceb68e56ae7c7480a7b348d028d7139"
                },
                {
                    "type": "patch",
                    "path": "yelp-use-in-sandbox.patch"
                }
            ]
        },
        {
            "name": "pycairo",
            "build-options" : {
                "env": {
                    "PYTHON": "/usr/bin/python3"
                }
            },
            "buildsystem": "simple",
            "build-commands": [
                "python3 ./setup.py build",
                "python3 ./setup.py install"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/pygobject/pycairo/releases/download/v1.16.3/pycairo-1.16.3.tar.gz",
                    "sha256": "5bb321e5d4f8b3a51f56fc6a35c143f1b72ce0d748b43d8b623596e8215f01f7"
                }
            ]
        },
        {
            "name": "pygobject",
            "config-opts": ["--enable-compile-warnings=minimum"],
            "build-options" : {
                "env": {
                    "PYTHON": "/usr/bin/python3"
                }
            },
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/pygobject/3.28/pygobject-3.28.0.tar.xz",
                    "sha256": "42b47b261b45aedfc77e02e3c90a01cd74d6f86c3273c1860a054d531d606e5a"
                }
            ]
        },
        {
            "name": "python-gstreamer",
            "build-options" : {
                "env": {
                    "PYTHON": "/usr/bin/python3"
                }
            },
            "sources": [
                {
                    "type": "archive",
                    "url": "https://gstreamer.freedesktop.org/src/gst-python/gst-python-1.12.4.tar.xz",
                    "sha256": "20ce6af6615c9a440c1928c31259a78226516d06bf1a65f888c6d109826fa3ea"
                }
            ]
        },
        {
            "name": "gcr",
            "cleanup": [ "/share/GConf" ],
            "cleanup-platform": [ "/libexec", "/bin", "/share/applications", "/share/dbus-1/services" ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/gcr/3.28/gcr-3.28.0.tar.xz",
                    "sha256": "15e175d1da7ec486d59749ba34906241c442898118ce224a7b70bf2e849faf0b"
                },
                {
                    "type": "patch",
                    "path": "gcr-gcrypt.patch"
                },
                {
                    "type": "shell",
                    "commands": ["autoreconf -f"]
                }
            ]
        },
        {
            "name": "ibus",
            "config-opts": ["--disable-xim", "--disable-static", "--disable-dconf", "--disable-schemas-compile",
                            "--disable-setup", "--disable-ui", "--disable-engine", "--disable-libnotify", "--disable-emoji-dict", "--disable-unicode-dict",
                            "--disable-appindicator", "--disable-tests"],
            "cleanup": [
                "/bin", "/libexec", "/share/bash-completion", "/share/dbus-1",
                "/share/icons", "/share/man", "/share/ibus" ],
            "post-install": [ "gtk-query-immodules-3.0 --update-cache",
                              "gtk-query-immodules-2.0 --update-cache" ],

            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/ibus/ibus/releases/download/1.5.18/ibus-1.5.18.tar.gz",
                    "sha256": "8551f7d027fb65d48225642fc8f3b232412ea75a4eb375244dd72a4d73c2639e"
                }
            ]
        },
        {
            "name": "os-release",
            "sources": [
                {
                    "type": "file",
                    "path": "os-release"
                },
                {
                    "type": "file",
                    "path": "issue"
                },
                {
                    "type": "file",
                    "path": "issue.net"
                },
                {
                    "type": "file",
                    "path": "org.gnome.Sdk.appdata.xml"
                },
                {
                    "type": "file",
                    "path": "org.gnome.Platform.appdata.xml"
                },
                {
                    "type": "file",
                    "path": "os-release-configure",
                    "dest-filename": "configure"
                }
            ]
        }
    ]
}
